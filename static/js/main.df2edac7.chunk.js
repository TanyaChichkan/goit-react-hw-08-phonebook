(this["webpackJsonpreact-config"]=this["webpackJsonpreact-config"]||[]).push([[1],{118:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n(1),r=n(34),i=n.n(r),o=n(17),s=(n(72),n(2)),u=n(27),l=n(8),j=n(9),b=(n(64),n(61),n(65),n(62),n(66),n(63),n(42)),d=function(e){var t=e.children,n=e.onClose,r=function(e){"Escape"===e.code&&n()};Object(a.useEffect)((function(){return window.addEventListener("keydown",r),function(){window.removeEventListener("keydown",r)}}));return Object(c.jsx)("div",{className:b.overlay,onClick:function(e){"DIV"===e.target.nodeName&&n()},children:Object(c.jsx)("div",{className:b.modal,children:t})})},O=n(24),f=function(e){var t=e.path,n=e.exact,a=e.name,r=e.isAuth,i=e.isPrivate,s=e.restricted;return Object(c.jsxs)(c.Fragment,{children:[!i&&!s&&Object(c.jsx)("li",{children:Object(c.jsx)(o.b,{to:t,exact:n,className:O.link,activeClassName:O.linkActive,children:a.toUpperCase()})},t),r&&i&&!s&&Object(c.jsx)("li",{children:Object(c.jsx)(o.b,{to:t,exact:n,className:O.link,activeClassName:O.linkActive,children:a.toUpperCase()})},t),!r&&!i&&s&&Object(c.jsx)("li",{children:Object(c.jsx)(o.b,{to:t,exact:n,className:O.link,activeClassName:O.linkActive,children:a.toUpperCase()})},t)]})},p=function(e){var t=e.routes,n=Object(j.d)((function(e){return e.auth.isAuth}));return Object(c.jsx)(c.Fragment,{children:Object(c.jsx)("ul",{className:O.linkList,children:t.map((function(e){return Object(a.createElement)(f,Object(s.a)(Object(s.a)({},e),{},{isAuth:n,key:e.path}))}))})})},h=[{path:"/signup",name:"Sign Up",exact:!0,component:Object(a.lazy)((function(){return n.e(0).then(n.bind(null,121))})),isPrivate:!1,restricted:!0},{path:"/signin",name:"Sign In",exact:!0,component:Object(a.lazy)((function(){return n.e(0).then(n.bind(null,121))})),isPrivate:!1,restricted:!0}],m=n.p+"static/media/symbol-defs.abdf1516.svg",x=n(22),_=n(19),v=function(e){var t=e.path,n=e.exact,a=e.component,r=e.restricted;return e.isAuth&&r?Object(c.jsx)(l.a,{to:"/contacts"}):Object(c.jsx)(l.b,{path:t,exact:n,component:a})},k=function(e){var t=e.path,n=e.exact,a=e.component;return e.isAuth?Object(c.jsx)(l.b,{path:t,exact:n,component:a}):Object(c.jsx)(l.a,{to:"/signin"})},g=function(e){var t=e.email,n=e.isAuth,r=e.onClick,i=e.onClose,o=e.count,u=e.refreshToken,j=e.errorAuth,b=e.authIsSuccessful,d=e.tokenRefreshed;return Object(c.jsxs)("div",{children:[Object(c.jsx)("button",{type:"button",onClick:function(e){console.log(e.target.nodeName),"BUTTON"!==e.target.nodeName&&"use"!==e.target.nodeName&&"svg"!==e.target.nodeName||i()},className:_.closeButton,children:Object(c.jsx)("svg",{className:_.iconCloseWrapper,children:Object(c.jsx)("use",{xlinkHref:"".concat(m,"#icon-cross")})})}),n?Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)("ul",{className:_.list,children:[Object(c.jsxs)("li",{className:_.listItem,children:[Object(c.jsx)("svg",{className:x.iconWrapper,children:Object(c.jsx)("use",{xlinkHref:"".concat(m,"#icon-user")})}),Object(c.jsx)("p",{className:_.itemText,children:t})]}),Object(c.jsx)("hr",{className:_.hr}),Object(c.jsxs)("li",{className:_.listItem,children:[Object(c.jsxs)("span",{children:["Contacts in the list:",Object(c.jsx)("span",{style:{visibility:"hidden"},children:"_____________"})]}),Object(c.jsx)("span",{children:o})]}),Object(c.jsx)("hr",{className:_.hr}),n&&Object(c.jsx)("li",{className:_.listItem,children:Object(c.jsx)("a",{onClick:r,children:"Sign Out"})}),n&&Object(c.jsx)("li",{className:_.listItem,children:Object(c.jsx)("a",{onClick:u,children:"Refresh Token"})})]}),d&&Object(c.jsxs)("div",{style:{backgroundColor:"lightGreen",marginTop:"20px",padding:"10px"},children:[Object(c.jsx)("span",{style:{fontSize:"50px"},children:"\u270d"}),Object(c.jsx)("h2",{children:"Your token was successfully refreshed"})]})]}):Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(p,{routes:h}),Object(c.jsx)(a.Suspense,{fallback:Object(c.jsx)("h2",{children:"...loading"}),children:Object(c.jsx)(l.d,{children:h.map((function(e){return e.isPrivate?Object(a.createElement)(k,Object(s.a)(Object(s.a)({},e),{},{isAuth:n,key:e.path})):Object(a.createElement)(v,Object(s.a)(Object(s.a)({},e),{},{isAuth:n,key:e.path}))}))})}),j&&Object(c.jsxs)("div",{style:{backgroundColor:"lightYellow",marginTop:"20px"},children:[Object(c.jsx)("span",{style:{fontSize:"50px"},children:"\u26d4"}),Object(c.jsx)("h2",{children:"Request failed"}),Object(c.jsxs)("p",{children:["This email is already registered or ",Object(c.jsx)("br",{}),"you entered invalid email/password"]}),Object(c.jsxs)("p",{children:["Please, try to log in with",Object(c.jsx)("br",{})," ",Object(c.jsx)("span",{style:{textDecoration:"underline",fontSize:"20px"},children:"Sign In"})," link "]}),Object(c.jsx)("p",{children:"or enter a valid email/password"})]}),b&&Object(c.jsxs)("div",{style:{backgroundColor:"lightGreen",marginTop:"20px",padding:"10px"},children:[Object(c.jsx)("span",{style:{fontSize:"50px"},children:"\u270d"}),Object(c.jsx)("h2",{children:"Authorization is successful"}),Object(c.jsx)("p",{children:"You may use the APP now!!!"})]})]})]})},T=n.p+"static/media/phonebook-icon2.fac4a217.png",y=[{path:"/",name:"Home",exact:!0,component:Object(a.lazy)((function(){return n.e(4).then(n.bind(null,123))})),isPrivate:!1,restricted:!1},{path:"/contacts",name:"Contacts",exact:!0,component:Object(a.lazy)((function(){return n.e(5).then(n.bind(null,122))})),isPrivate:!0,restricted:!1}],N=function(e){var t=e.onHandleClick,n=(e.onClick,e.isAuth);e.email;return Object(c.jsxs)("header",{className:x.header,children:[Object(c.jsxs)("div",{className:x.headerWrapper,children:[Object(c.jsx)("img",{src:T,alt:"logo",width:"50",height:"50"}),Object(c.jsx)("h1",{className:x.pageTitle,children:"Phonebook"})]}),Object(c.jsx)(p,{routes:y}),n?Object(c.jsxs)("button",{type:"button",onClick:t,className:x.profileButton,children:["Profile",Object(c.jsx)("svg",{className:x.iconWrapper,children:Object(c.jsx)("use",{xlinkHref:"".concat(m,"#icon-user")})})]}):Object(c.jsxs)("button",{type:"button",onClick:t,className:x.headerButton,children:["MENU",Object(c.jsx)("svg",{className:x.iconWrapper,children:Object(c.jsx)("use",{xlinkHref:"".concat(m,"#icon-menu3")})})]})]})},C=n(25),A=n(54),S=n(3),E=n(15),w=function(e){return e.auth.isAuth},I=function(e){return e.auth.email},L=function(e){return e.auth.error},R=function(e){return e.auth.authSuccess},H=function(e){return e.auth.tokenRefreshed},U=function(){var e=Object(a.useState)(!1),t=Object(u.a)(e,2),n=t[0],r=t[1],i=(Object(j.d)(E.c),Object(j.d)(E.b),Object(j.d)(E.a)),o=Object(j.c)(),b=Object(l.g)(),O=Object(j.d)(w),f=Object(j.d)(I),p=Object(j.d)(L),h=Object(j.d)(R),m=Object(j.d)(H);Object(a.useEffect)((function(){O&&o(Object(C.d)())}),[O]);var x=function(e){o(Object(S.q)()),_(),b.push("/")},_=function(){r(!1),O?b.push("/contacts"):b.push("/")};return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(N,{onHandleClick:function(e){r(!0)},onClick:x,isAuth:O,email:f}),Object(c.jsx)(a.Suspense,{fallback:Object(c.jsx)("h2",{children:"...loading"}),children:Object(c.jsx)(l.d,{children:y.map((function(e){return e.isPrivate?Object(a.createElement)(k,Object(s.a)(Object(s.a)({},e),{},{isAuth:O,key:e.path})):Object(a.createElement)(v,Object(s.a)(Object(s.a)({},e),{},{isAuth:O,key:e.path}))}))})}),O&&n&&Object(c.jsx)(d,{onClose:_,children:O&&Object(c.jsx)(g,{email:f,isAuth:O,onClick:x,onClose:_,count:i.length,tokenRefreshed:m,refreshToken:function(e){o(Object(A.a)())}})}),!O&&n&&Object(c.jsx)(d,{onClose:_,children:!O&&Object(c.jsx)(g,{isAuth:O,onClose:_,errorAuth:p,authIsSuccessful:h})})]})};var B,F,D=function(){return Object(c.jsx)("div",{className:"App",children:Object(c.jsx)(U,{})})},M=(n(115),n(10)),W=n(6),P=n(29),z=n(4),G={contacts:[],isLoading:!1,error:"",selectedContact:null},q=Object(z.c)(Object(s.a)({},G),(B={},Object(W.a)(B,S.a,(function(e,t){return Object(s.a)(Object(s.a)({},e),{},{contacts:[].concat(Object(P.a)(e.contacts),[t.payload])})})),Object(W.a)(B,S.o,(function(e){return Object(s.a)(Object(s.a)({},e),{},{isLoading:!e.isLoading})})),Object(W.a)(B,S.n,(function(e,t){return Object(s.a)(Object(s.a)({},e),{},{error:t.payload})})),Object(W.a)(B,S.j,(function(e,t){return Object(s.a)(Object(s.a)({},e),{},{error:""})})),Object(W.a)(B,S.e,(function(e,t){return Object(s.a)(Object(s.a)({},e),{},{contacts:Object(P.a)(e.contacts.filter((function(e){return e.id!==t.payload})))})})),Object(W.a)(B,S.t,(function(e,t){return Object(s.a)(Object(s.a)({},e),{},{contacts:Object(P.a)(e.contacts.map((function(e){return e.id===t.payload?Object(s.a)(Object(s.a)({},e),{},{update:!e.update}):e})))})})),Object(W.a)(B,S.k,(function(e,t){return Object(s.a)(Object(s.a)({},e),{},{selectedContact:null})})),Object(W.a)(B,S.b,(function(e,t){return e.contacts.find((function(e){return e.id===t.payload}))?Object(s.a)(Object(s.a)({},e),{},{selectedContact:Object(s.a)({},e.contacts.find((function(e){return e.id===t.payload})))}):e})),Object(W.a)(B,S.d,(function(e,t){return Object(s.a)(Object(s.a)({},e),{},{contacts:Object(P.a)(e.contacts.map((function(e){return e.id===t.payload.id?Object(s.a)(Object(s.a)({},e),{},{name:t.payload.name,number:t.payload.number,update:!1}):Object(s.a)({},e)})))})})),Object(W.a)(B,S.g,(function(e,t){return Object(s.a)(Object(s.a)({},e),{},{contacts:Object(P.a)(t.payload)})})),B)),J=Object(z.c)("",Object(W.a)({},S.f,(function(e,t){return t.payload}))),V={email:"",isAuth:!1,error:"",isLoading:!1,idToken:"",refreshToken:"",localId:"",authSuccess:!1,tokenRefreshed:!1},Y=Object(z.c)(Object(s.a)({},V),(F={},Object(W.a)(F,S.r,(function(e,t){t.type;var n=t.payload;return Object(s.a)(Object(s.a)({},e),{},{email:n.email,localId:n.localId,idToken:n.idToken,refreshToken:n.refreshToken,isAuth:!0})})),Object(W.a)(F,S.p,(function(e,t){t.type;var n=t.payload;return Object(s.a)(Object(s.a)({},e),{},{email:n.email,localId:n.localId,idToken:n.idToken,refreshToken:n.refreshToken,isAuth:!0})})),Object(W.a)(F,S.q,(function(e,t){t.type,t.payload;return Object(s.a)({},V)})),Object(W.a)(F,S.l,(function(e,t){t.type;var n=t.payload;return Object(s.a)(Object(s.a)({},e),{},{error:n})})),Object(W.a)(F,S.i,(function(e){return Object(s.a)(Object(s.a)({},e),{},{error:""})})),Object(W.a)(F,S.m,(function(e){return Object(s.a)(Object(s.a)({},e),{},{isLoading:!e.isLoading})})),Object(W.a)(F,S.c,(function(e){return Object(s.a)(Object(s.a)({},e),{},{authSuccess:!e.authSuccess})})),Object(W.a)(F,S.h,(function(e,t){t.type;var n=t.payload;return Object(s.a)(Object(s.a)({},e),{},{idToken:n.id_token,refreshToken:n.refresh_token})})),Object(W.a)(F,S.s,(function(e,t){return Object(s.a)(Object(s.a)({},e),{},{tokenRefreshed:!e.tokenRefreshed})})),F)),Z=n(23),K=n(59),Q={key:"auth",version:1,storage:n.n(K).a,whitelist:["email","idToken","refreshToken","isAuth","localId"]},X=Object(M.combineReducers)({auth:Object(Z.g)(Q,Y),contactsArr:q,filterValue:J}),$=Object(z.a)({reducer:X,middleware:Object(z.d)({serializableCheck:{ignoredActions:[Z.a,Z.f,Z.b,Z.c,Z.d,Z.e]}})}),ee=Object(Z.h)($),te=$,ne=n(60);i.a.render(Object(c.jsxs)(j.a,{store:te,children:[Object(c.jsx)(ne.a,{loading:null,persistor:ee}),Object(c.jsx)(o.a,{children:Object(c.jsx)(D,{})})]}),document.getElementById("root"))},15:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"e",(function(){return i})),n.d(t,"d",(function(){return a})),n.d(t,"f",(function(){return o})),n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return u}));var c=n(30),a=function(e){return e.filterValue},r=function(e){return e.contactsArr.contacts},i=function(e){return e.contactsArr.selectedContact},o=Object(c.a)([r,a],(function(e,t){return e.filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())}))})),s=function(e){return e.contactsArr.error},u=function(e){return e.contactsArr.isLoading}},18:function(e,t,n){e.exports={"text-not-updated":"ListItem_text-not-updated__iEw-7","text-updated":"ListItem_text-updated__MUAGn",wrapper:"ListItem_wrapper__1G_Aw",updated:"ListItem_updated__3UsGM","not-updated":"ListItem_not-updated__1pgq5",inputHide:"ListItem_inputHide__19rQb",button:"ListItem_button__1gDro","button-not-updated":"ListItem_button-not-updated__2fwod","button-updated":"ListItem_button-updated__2d3jB"}},19:function(e,t,n){e.exports={listItem:"UserMenu_listItem__1d6iD",itemText:"UserMenu_itemText__2ScwZ",iconCloseWrapper:"UserMenu_iconCloseWrapper__3T__B",list:"UserMenu_list__1wmwK",closeButton:"UserMenu_closeButton__2DZGl",hr:"UserMenu_hr__33VY3"}},22:function(e,t,n){e.exports={headerWrapper:"Header_headerWrapper__24f5I",pageTitle:"Header_pageTitle__1-icf",iconWrapper:"Header_iconWrapper__2ZepU",header:"Header_header__2THHt",headerButton:"Header_headerButton__1m_aH",profileButton:"Header_profileButton__J0Bek"}},24:function(e,t,n){e.exports={link:"Navigation_link__3-tq9",linkActive:"Navigation_linkActive__2WIyB",linkList:"Navigation_linkList__FoBQI"}},25:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"c",(function(){return j})),n.d(t,"d",(function(){return b})),n.d(t,"b",(function(){return d}));var c=n(20),a=n.n(c),r=n(2),i=n(28),o=n(21),s=n.n(o),u=n(3),l=function(e){return function(){var t=Object(i.a)(a.a.mark((function t(n,c){var i,o,l;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=c().auth.idToken,o=c().auth.localId,n(Object(u.o)()),t.prev=3,t.next=6,s.a.post("https://phonebook-83997-default-rtdb.firebaseio.com/myOwnFolder/".concat(o,"/.json"),Object(r.a)(Object(r.a)({},e),{},{update:!1}),{params:{auth:i}});case 6:l=t.sent,n(Object(u.a)(Object(r.a)(Object(r.a)({},e),{},{id:l.data.name}))),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(3),n(n(Object(u.n)(t.t0)));case 13:return t.prev=13,n(Object(u.o)()),t.finish(13);case 16:case"end":return t.stop()}}),t,null,[[3,10,13,16]])})));return function(e,n){return t.apply(this,arguments)}}()},j=function(e,t){return function(t,n){var c=n().auth.idToken,a=n().auth.localId;t(Object(u.o)()),s.a.delete("https://phonebook-83997-default-rtdb.firebaseio.com/myOwnFolder/".concat(a,"/").concat(e,".json"),{params:{auth:c}}).then((function(){t(Object(u.e)(e))})).catch((function(e){return t(Object(u.n)(e))})).finally((function(){return t(Object(u.o)())}))}},b=function(){return function(e,t){var n=t().auth.idToken,c=t().auth.localId;e(Object(u.o)()),s.a.get("https://phonebook-83997-default-rtdb.firebaseio.com/myOwnFolder/".concat(c,".json"),{params:{auth:n}}).then((function(t){if(t.data){var n=Object.keys(t.data).map((function(e){return Object(r.a)(Object(r.a)({},t.data[e]),{},{id:e})}));console.log(t),e(Object(u.g)(n))}})).catch((function(t){console.log(t),e(Object(u.n)(t))})).finally((function(){return e(Object(u.o)())}))}},d=function(e){return function(t,n){var c=n().auth.idToken,a=n().auth.localId;t(Object(u.o)()),s.a.put("https://phonebook-83997-default-rtdb.firebaseio.com/myOwnFolder/".concat(a,"/").concat(e.id,".json"),Object(r.a)(Object(r.a)({},e),{},{update:!1}),{params:{auth:c}}).then((function(){t(Object(u.d)(e)),t(Object(u.k)())})).catch((function(e){return Object(u.n)(e)})).finally((function(){return t(Object(u.o)())}))}}},26:function(e,t,n){e.exports={form:"Form_form__3IZk-",label:"Form_label__1icTO",input:"Form_input__xj8Nj",formButton:"Form_formButton__1mN8m"}},3:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"o",(function(){return r})),n.d(t,"n",(function(){return i})),n.d(t,"j",(function(){return o})),n.d(t,"e",(function(){return s})),n.d(t,"t",(function(){return u})),n.d(t,"f",(function(){return l})),n.d(t,"k",(function(){return j})),n.d(t,"b",(function(){return b})),n.d(t,"d",(function(){return d})),n.d(t,"g",(function(){return O})),n.d(t,"r",(function(){return f})),n.d(t,"p",(function(){return p})),n.d(t,"q",(function(){return h})),n.d(t,"m",(function(){return m})),n.d(t,"l",(function(){return x})),n.d(t,"i",(function(){return _})),n.d(t,"h",(function(){return v})),n.d(t,"c",(function(){return k})),n.d(t,"s",(function(){return g}));var c=n(4),a=Object(c.b)("ADD_CONTACT"),r=Object(c.b)("SET_LOADING"),i=Object(c.b)("SET_ERROR"),o=Object(c.b)("RESET_ERROR"),s=Object(c.b)("DELETE_CONTACT"),u=Object(c.b)("UPDATE_CONTACT"),l=Object(c.b)("FILER_CONTACT"),j=(Object(c.b)("CHANGE_ALERT"),Object(c.b)("RESET_SELECTED")),b=Object(c.b)("ADD_TO_SELECTED"),d=Object(c.b)("CHANGE_CONTACT"),O=Object(c.b)("GET_CONTACTS"),f=Object(c.b)("SIGN_UP"),p=Object(c.b)("SIGN_IN"),h=Object(c.b)("SIGN_OUT"),m=Object(c.b)("AUTH_SET_LOADING"),x=Object(c.b)("AUTH_SET_ERROR"),_=Object(c.b)("AUTH_RESET_ERROR"),v=Object(c.b)("REFRESH_TOKEN"),k=Object(c.b)("AUTH_IS_SUCCESSFUL"),g=Object(c.b)("TOKEN_IS_REFRESHED")},33:function(e,t,n){e.exports={text:"ErrorMessage_text__2-AbN",wrapper:"ErrorMessage_wrapper__2q6Rm",formButton:"ErrorMessage_formButton__3JxBN"}},40:function(e,t,n){e.exports={alertWrapper:"Notification_alertWrapper__3kcz3",alertText:"Notification_alertText__3TGyo"}},41:function(e,t,n){e.exports={filterInput:"Filter_filterInput__2ZHr5",filter:"Filter_filter__12I-p"}},42:function(e,t,n){e.exports={overlay:"Modal_overlay__11nvx",modal:"Modal_modal__26Qco"}},54:function(e,t,n){"use strict";n.d(t,"c",(function(){return j})),n.d(t,"b",(function(){return b})),n.d(t,"a",(function(){return d}));var c=n(20),a=n.n(c),r=n(2),i=n(28),o=n(21),s=n.n(o),u=n(3);s.a.defaults.baseURL="https://identitytoolkit.googleapis.com/v1";var l="AIzaSyBMVBHlN0XgpofWJ1SEODxMSj7L5-AzPkY",j=function(e){return function(){var t=Object(i.a)(a.a.mark((function t(n){var c;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(Object(u.m)()),t.prev=1,t.next=4,s.a.post("/accounts:signUp?key=".concat(l),Object(r.a)(Object(r.a)({},e),{},{returnSecureToken:!0}));case 4:c=t.sent,n(Object(u.c)()),setTimeout((function(){return n(Object(u.c)())}),2e3),setTimeout((function(){n(Object(u.r)(c.data))}),3e3),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(1),n(Object(u.l)(t.t0)),setTimeout((function(){n(Object(u.i)())}),5e3);case 14:return t.prev=14,n(Object(u.m)()),t.finish(14);case 17:case"end":return t.stop()}}),t,null,[[1,10,14,17]])})));return function(e){return t.apply(this,arguments)}}()},b=function(e){return function(){var t=Object(i.a)(a.a.mark((function t(n){var c;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(Object(u.m)()),t.prev=1,t.next=4,s.a.post("/accounts:signInWithPassword?key=".concat(l),Object(r.a)(Object(r.a)({},e),{},{returnSecureToken:!0}));case 4:c=t.sent,n(Object(u.c)()),setTimeout((function(){return n(Object(u.c)())}),2e3),setTimeout((function(){n(Object(u.p)(c.data))}),3e3),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(1),n(Object(u.l)(t.t0)),setTimeout((function(){n(Object(u.i)())}),5e3);case 14:return t.prev=14,n(Object(u.m)()),t.finish(14);case 17:case"end":return t.stop()}}),t,null,[[1,10,14,17]])})));return function(e){return t.apply(this,arguments)}}()},d=function(){return function(){var e=Object(i.a)(a.a.mark((function e(t,n){var c,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=n().auth.refreshToken,e.prev=1,e.next=4,s.a.post("https://securetoken.googleapis.com/v1/token?key=AIzaSyBMVBHlN0XgpofWJ1SEODxMSj7L5-AzPkY",{grant_type:"refresh_token",refresh_token:c});case 4:r=e.sent,t(Object(u.s)()),setTimeout((function(){return t(Object(u.s)())}),2e3),setTimeout((function(){t(Object(u.h)(r.data))}),3e3),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),t(Object(u.l)(e.t0));case 13:return e.prev=13,t(Object(u.m)()),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[1,10,13,16]])})));return function(t,n){return e.apply(this,arguments)}}()}},56:function(e,t,n){e.exports={section:"Section_section__18AKw"}},57:function(e,t,n){e.exports={list:"List_list__3OaDl"}},61:function(e,t,n){"use strict";var c=n(0),a=(n(1),n(56));t.a=function(e){var t=e.children;return Object(c.jsx)("section",{className:a.section,children:t})}},62:function(e,t,n){"use strict";var c=n(0),a=(n(1),n(9)),r=n(3),i=n(15),o=n(41),s=n.n(o);t.a=Object(a.b)((function(e){return{filter:Object(i.d)(e)}}),(function(e){return{filterContacts:function(t){e(Object(r.f)(t))}}}))((function(e){var t=e.filter,n=e.filterContacts;return Object(c.jsxs)("div",{className:s.a.filter,children:[Object(c.jsxs)("label",{children:["Find contacts by name",Object(c.jsx)("input",{type:"text",value:t,onChange:function(e){n(e.target.value)},className:s.a.filterInput})]}),Object(c.jsx)("br",{})]})}))},63:function(e,t,n){"use strict";var c=n(0),a=(n(1),n(58)),r=n.n(a);t.a=function(){return Object(c.jsx)("div",{style:{width:"600px",textAlign:"center"},children:Object(c.jsx)(r.a,{type:"ThreeDots",color:"#00BFFF",height:80,width:80})})}},64:function(e,t,n){"use strict";var c=n(0),a=n(6),r=n(2),i=n(27),o=n(1),s=n(9),u=n(40),l=n.n(u),j=function(e){var t=e.name,n=e.changeAlert,a=e.changeName;return Object(o.useEffect)((function(){var e=setTimeout((function(){n(!1),a("")}),2e3);return function(){clearTimeout(e)}}),[]),Object(c.jsx)("div",{className:l.a.alertWrapper,children:Object(c.jsxs)("p",{className:l.a.alertText,children:[t&&t[0].toUpperCase()+t.slice(1)," is already in the list!!!"]})})},b=n(3),d=n(25),O=n(15),f=n(26),p=n.n(f),h={name:"",number:""};t.a=Object(s.b)((function(e){return{contacts:Object(O.a)(e),selectedContact:Object(O.e)(e)}}),(function(e){return{addContact:function(t){e(Object(d.a)(t))},changeContact:function(t){e(Object(d.b)(t))},resetSelected:function(){e(Object(b.k)())}}}))((function(e){var t=e.addContact,n=e.selectedContact,s=e.changeContact,u=e.contacts,l=Object(o.useState)(Object(r.a)({},h)),b=Object(i.a)(l,2),d=b[0],O=b[1],f=Object(o.useState)(!1),m=Object(i.a)(f,2),x=m[0],_=m[1],v=Object(o.useState)(""),k=Object(i.a)(v,2),g=k[0],T=k[1],y=!d.name||!d.number;Object(o.useEffect)((function(){O(n?Object(r.a)({},n):Object(r.a)({},h))}),[n]);var N=function(e){var t=e.target,n=t.name,c=t.value;O((function(e){return Object(r.a)(Object(r.a)({},e),{},Object(a.a)({},n,c))}))};return Object(c.jsxs)(c.Fragment,{children:[x&&Object(c.jsx)(j,{name:g,changeAlert:_,changeName:T}),Object(c.jsxs)("form",{onSubmit:function(e){e.preventDefault(),n?s(d):u.some((function(e){return e.name.toLowerCase()===d.name.toLowerCase()}))?(_(!0),T(d.name)):t(d),O(Object(r.a)({},h))},className:p.a.form,children:[Object(c.jsxs)("label",{className:p.a.label,children:[" ","Name",Object(c.jsx)("input",{type:"text",value:d.name,name:"name",onChange:N,className:p.a.input})]}),Object(c.jsxs)("label",{className:p.a.label,children:[" ","Number",Object(c.jsx)("input",{type:"text",value:d.number,name:"number",onChange:N,className:p.a.input})]}),Object(c.jsx)("button",{type:"submit",disabled:y,className:p.a.formButton,children:n?"Save contact":"Add contact"})]})]})}))},65:function(e,t,n){"use strict";var c=n(2),a=n(0),r=(n(1),n(3)),i=n(25),o=n(57),s=n(15),u=n(9),l=n(18),j=n.n(l),b=function(e){var t=e.id,n=e.name,c=e.number,r=e.update,i=e.onUpdate,o=e.onDelete,s=e.selectedContact,u=r?j.a.updated:j.a["not-updated"],l=r?j.a["text-updated"]:j.a["text-not-updated"];return Object(a.jsxs)("li",{className:u,children:[Object(a.jsxs)("span",{className:l,children:[n,":",c]}),Object(a.jsxs)("div",{className:j.a.wrapper,children:[Object(a.jsxs)("label",{className:s&&s.id!==t?j.a.inputHide:j.a.itemLabel,children:[" ","Update",Object(a.jsx)("input",{type:"checkbox","data-id":t,onChange:i,checked:r,className:s&&s.id!==t?j.a.inputHide:j.a.inputItem})]}),Object(a.jsx)("button",{type:"button","data-id":t,onClick:o,className:j.a.button,disabled:!(!s||s.id!==t),children:"Delete"})]})]})};t.a=Object(u.b)((function(e){return{contacts:Object(s.f)(e),selectedContact:Object(s.e)(e)}}),(function(e){return{deleteContact:function(t){e(Object(i.c)(t))},updateContact:function(t){e(Object(r.t)(t))},addToSelected:function(t){e(Object(r.b)(t))},resetSelected:function(){e(Object(r.k)())}}}))((function(e){var t=e.contacts,n=e.deleteContact,r=e.updateContact,i=e.addToSelected,s=e.resetSelected,u=e.selectedContact,l=function(e){n(e.target.dataset.id)},j=function(e){r(e.target.dataset.id),e.target.checked?i(e.target.dataset.id):s()};return Object(a.jsx)("ul",{className:o.list,children:t.map((function(e){return Object(a.jsx)(b,Object(c.a)(Object(c.a)({},e),{},{selectedContact:u,onUpdate:j,onDelete:l}),e.id)}))})}))},66:function(e,t,n){"use strict";var c=n(0),a=(n(1),n.p+"static/media/error.44f968b5.jpg"),r=n(33);t.a=function(e){var t=e.error,n=e.onclick;return Object(c.jsxs)("div",{className:r.wrapper,children:[Object(c.jsx)("p",{className:r.text,children:"Something went wrong"}),Object(c.jsx)("p",{className:r.text,children:t.message}),Object(c.jsx)("img",{src:a,alt:"error picture",width:"500",height:"300"}),Object(c.jsx)("button",{type:"button",onClick:n,className:r.formButton,children:"Try again"})]})}},72:function(e,t,n){}},[[118,2,3]]]);
//# sourceMappingURL=main.df2edac7.chunk.js.map